body { font-family: system-ui, Arial, sans-serif; background:#0f1a23; color:#e4f6ff; display:flex; justify-content:center; margin:0; padding:0 0 2rem; }
#ui { width:100%; max-width:760px; text-align:center; padding:0 1rem; }
canvas { background:#000; display:block; margin:0 auto; image-rendering:pixelated; border:2px solid #1f4459; width:100%; height:auto; aspect-ratio: 28 / 33; max-width:672px; }
.activation-active #activationMarker { opacity:1; }
#activationBarWrapper { position:relative; width:100%; max-width:420px; height:14px; margin:.25rem auto .65rem; background:linear-gradient(90deg,#1f3b52,#152633); border:1px solid #2e5e7a; border-radius:8px; overflow:hidden; box-shadow:0 0 6px rgba(0,0,0,0.4) inset; }
#activationBar { position:absolute; top:0; left:0; height:100%; width:0%; background:linear-gradient(90deg,#ff6f3d,#ffb347); transition:width 0.12s linear; }
#activationMarker { position:absolute; top:50%; right:6px; transform:translateY(-50%); font-size:.55rem; letter-spacing:1px; font-weight:700; color:#101b22; background:#ffda5c; padding:2px 6px; border-radius:4px; box-shadow:0 0 4px rgba(255,218,92,0.6); opacity:0; transition:opacity 0.25s; }
#chaseBarWrapper { position:relative; width:100%; max-width:420px; height:12px; margin:.1rem auto .35rem; background:#152632; border:1px solid #27475b; border-radius:8px; overflow:hidden; box-shadow:0 0 5px rgba(0,0,0,0.35) inset; display:none; }
#chaseBar { position:absolute; top:0; left:0; height:100%; width:0%; background:linear-gradient(90deg,#2d86ff,#6bd5ff); transition:width .12s linear; }
#chaseMarker { position:absolute; top:50%; right:6px; transform:translateY(-50%); font-size:.5rem; letter-spacing:1px; font-weight:600; color:#0e161c; background:#6bd5ff; padding:1px 6px 2px; border-radius:4px; box-shadow:0 0 4px rgba(107,213,255,0.55); opacity:.9; }
.scatter-active #chaseMarker { background:#ffda5c; color:#101b22; box-shadow:0 0 4px rgba(255,218,92,0.5); }
.scatter-active #chaseBar { background:linear-gradient(90deg,#ffb347,#ff6f3d); }
.hud { display:flex; flex-wrap:wrap; gap:.75rem 1.25rem; justify-content:center; font-weight:600; margin-bottom:.5rem; font-size:clamp(.75rem,2.4vw,.95rem); }
.controls-info { font-size:clamp(.65rem,2vw,.85rem); opacity:.75; }
.game-over { font-size:2.2rem; color:#ff4d4d; text-shadow:0 0 8px #ff4d4d; }
.paused { font-size:1.8rem; color:#ffda5c; }

/* Touch Controls */
.touch-controls { display:none; position:fixed; bottom:1.1rem; left:50%; transform:translateX(-50%); width:220px; height:180px; pointer-events:none; }
.touch-controls button { pointer-events:auto; position:absolute; width:64px; height:64px; background:rgba(35,65,85,0.55); border:2px solid #2e5e7a; border-radius:12px; color:#e4f6ff; font-size:1rem; display:flex; align-items:center; justify-content:center; backdrop-filter:blur(4px); }
.touch-controls button:active { background:rgba(72,132,164,0.75); }
.btn-up { top:0; left:50%; transform:translate(-50%,0); }
.btn-down { bottom:0; left:50%; transform:translate(-50%,0); }
.btn-left { top:50%; left:0; transform:translate(0,-50%); }
.btn-right { top:50%; right:0; transform:translate(0,-50%); }

@media (max-width: 820px) {
	.touch-controls { display:block; }
	body { padding-bottom:220px; }
}
